<!DOCTYPE html>
<div th:fragment="body">
<h2>Edit Employee</h2>
<form th:action="@{'/employees/edit/' + ${employee.employeeId}}" th:object="${employee}" method="post">
    <label>First Name: <input type="text" th:field="*{firstName}" /></label><br/>
    <label>Last Name: <input type="text" th:field="*{lastName}" /></label><br/>
    <label>Email: <input type="text" th:field="*{email}" /></label><br/>
    <label>Phone: <input type="text" th:field="*{phoneNumber}" /></label><br/>
    <label>Hire Date: <input type="date" th:field="*{hireDate}" /></label><br/>
    <label>Department:
        <select name="department">
            <option th:each="dept : ${departments}" th:value="${dept.departmentId}" th:text="${dept.departmentName}" th:selected="${dept.departmentId == employee.department?.departmentId}"></option>
        </select>
    </label><br/>
    <label>Job:
        <select name="job">
            <option th:each="job : ${jobs}" th:value="${job.jobId}" th:text="${job.jobTitle}" th:selected="${job.jobId == employee.job?.jobId}"></option>
        </select>
    </label><br/>
    <label>Manager:
        <select name="manager">
            <option th:each="mgr : ${managers}" th:value="${mgr.employeeId}" th:text="${mgr.firstName + ' ' + mgr.lastName}" th:selected="${mgr.employeeId == employee.manager?.employeeId}"></option>
        </select>
    </label><br/>
    <label>Salary: <input type="number" step="0.01" th:field="*{salary}" /></label><br/>
    <label>Commission %: <input type="number" step="0.01" th:field="*{commissionPct}" /></label><br/>
    <button type="submit">Save</button>
</form>
<p><a th:href="@{/employees}">Back to List</a></p>
</div> 